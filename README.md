# Presentation

## Use case
The present files are a small executable dedicated to systematically profiling the units and wrappers created by the "Flop2Dyn" project. This serves to evalute the timing metrics required for both accurate unit selection and buffer placement in the Dynamatic project. It also serves to obtain ressource usage for these units.

## Structure/Usage
The current strict requirement of running the generation on Debian/ubuntu means that no automatic pipeline from generation to profiling could be convenient. However, the user must simply replace the content of the ./generated_units by those generated by the Flop2Dyn project as per his setup.
The ./scripts directory contains all executables. profiler_executable.sh is the main script, which will for every file in the generated_units directory, run an appropriate vivado simulation, and store the results in ./results.
Said results are stored in two formats :an easy-to-read and parse .csv summary of the core values, as well as the raw vivado result outputs if detailed information is required.
FInally, grapher.py is a python script designed to read the result csv and generate a series of graphs of the "real" frequency (ie clock frequency corrected for slack) as a function of either the clock frequency or the used ressources.

# NDLR/TODO:
-Need to do something to prevent vivado dumping all the backup and log clutter into scripts. Gitignore doesn't prevent this on the user end. Maybe add some systematic rm's to the script? Or find some setting to dump them to some dedicated folder.
-I made sure the script runs as intended on a few examples, however simulating this many units (times 8 for the various frequencies, times 4 for all possible with/without wrapper combinations) takes forever and I don't intend to do any systematic runs until I've tested my wrappers and units inside Dynamatic. (This will almost certainly reveal corrections to make, though I'd be surpised if those break the present scripts in any fundamental way).

